<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Line Manager Interview Form</title>
    <link rel="stylesheet" href="/css/sidebar.css">
    
    <style>
        body {
            font-family: Inter, sans-serif;
            background-color: #f4f4f9;
            padding: 20px;
            margin: 0;
        }

        h1 {
            color: #124A5C;
            margin-bottom: 20px;
        }

        .container {
            margin-left: 280px;
            padding: 20px;
        }

        form {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            max-width: 100%;
            margin: 20px auto;
        }

        .form-section {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        input[type="text"], input[type="date"], textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
            margin-bottom: 10px;
            font-size: 16px;
        }

        input[readonly] {
            background-color: #e9ecef;
            cursor: not-allowed;
        }

        textarea {
            height: 100px;
        }

        button {
            background-color: #07ACB9;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 20px 0;
        }

        button:hover {
            background-color: #065d6a;
        }

        .rating {
            margin-top: 10px;
        }

        .rating label {
            margin-right: 10px;
            font-size: 14px;
        }

        select {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 100%;
            margin-top: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            padding: 10px;
            text-align: left;
            border: 1px solid #ddd;
        }

        th {
            background-color: #f4f4f9;
        }

        .calculated-total {
            font-weight: bold;
            color: #124A5C;
            font-size: 18px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .container {
                margin-left: 0;
            }

            form {
                padding: 10px;
            }

            input[type="text"], input[type="date"], textarea {
                font-size: 14px;
            }

            button {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <%- include('../../partials/linemanager_partials') %>
    <div class="container">
        <header>
            <h1>Line Manager Interview Form</h1>
        </header>

        <form id="interview-form">
            <div class="form-section">
                <label for="candidate-name">Candidate Name:</label>
                <input type="text" id="candidate-name" value="John Doe" readonly>

                <label for="position-title">Position Title:</label>
                <input type="text" id="position-title" value="Software Engineer" readonly>

                <label for="position-department">Position Department:</label>
                <input type="text" id="position-department" value="IT Department" readonly>

                <label for="conducted-by">Conducted by:</label>
                <input type="text" id="conducted-by" value="Jane Smith" readonly>

                <label for="date-of-interview">Date of Interview:</label>
                <input type="text" id="date-of-interview" value="December 15, 2024" readonly>
            </div>


            <div class="form-section">
                <h2>Rating Definition Guide</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Rating Definition Guide</th>
                            <th>Score Guide</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Strong Evidence</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Some Evidence</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>No Evidence (not demonstrated/no evidence was obtained during the interview)</td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>Evidence of No Success (exact opposite of the competency)</td>
                            <td>-1</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="form-section">
                <h2>Personal Report</h2>
                <label for="career-goals">How does this role fit your long-term career goals?</label>
                <textarea id="career-goals" placeholder="Write your answer here..."></textarea>

                <label for="resume-walkthrough">As you walk us through your resume, highlight key experiences that demonstrate your strengths in relation to this position.</label>
                <textarea id="resume-walkthrough" placeholder="Write your answer here..."></textarea>

                <div class="rating">
                    <label>Rating: </label>
                    <select id="personal-report-rating" class="rating-dropdown">
                        <option value="2">2 (Strong Evidence)</option>
        <option value="1">1 (Some Evidence)</option>
        <option value="0">0 (No Evidence)</option>
        <option value="-1">-1 (Evidence of No Success)</option>
                    </select>
                </div>
            </div>

            <div class="form-section">
                <h2>Functional/Job Specific Inquiries</h2>
                <p><strong>Guide:</strong> To evaluate for the specific functional/technical focus of this role, please describe your relevant experience and expertise in this area.</p>

                <label for="situation">Situation:</label>
                <textarea id="situation" placeholder="Describe the situation..."></textarea>

                <label for="action">Action:</label>
                <textarea id="action" placeholder="Describe the action taken..."></textarea>

                <label for="result">Result:</label>
                <textarea id="result" placeholder="Describe the result..."></textarea>

                <div class="rating">
                    <label>Rating: </label>
                    <select id="functional-job-rating" class="rating-dropdown">
                        <option value="2">2 (Strong Evidence)</option>
                        <option value="1">1 (Some Evidence)</option>
                        <option value="0">0 (No Evidence)</option>
                        <option value="-1">-1 (Evidence of No Success)</option>
                    </select>
                </div>
            </div>

            <div class="form-section">
                <h2>Following Instructions and Procedures</h2>
                <p><strong>Guide:</strong> Can you tell me about a time when it was essential that you followed clear policies or procedures? What do you think were the benefits in following rules and procedures in such a situation? What were the drawbacks in having to follow policies and procedures closely? How comfortable do you feel in a situation which is quite rule‚Äêbound and procedural?</p>

                <label for="situation-instructions">Situation:</label>
                <textarea id="situation-instructions" placeholder="Describe the situation..."></textarea>

                <label for="action-instructions">Action:</label>
                <textarea id="action-instructions" placeholder="Describe the action taken..."></textarea>

                <label for="result-instructions">Result:</label>
                <textarea id="result-instructions" placeholder="Describe the result..."></textarea>

                <div class="rating">
                    <label>Rating: </label>
                    <select id="instructions-rating" class="rating-dropdown">
                        <option value="2">2 (Strong Evidence)</option>
                        <option value="1">1 (Some Evidence)</option>
                        <option value="0">0 (No Evidence)</option>
                        <option value="-1">-1 (Evidence of No Success)</option>
                    </select>
                </div>
            </div>

            <div class="form-section">
                <h2>Working with People</h2>
                <p><strong>Guide:</strong> Describe a situation where it was important that you identified and understood the needs of others. How did this come about? How did you involve and communicate to those involved? What was the outcome?</p>

                <label for="situation-people">Situation:</label>
                <textarea id="situation-people" placeholder="Describe the situation..."></textarea>

                <label for="action-people">Action:</label>
                <textarea id="action-people" placeholder="Describe the action taken..."></textarea>

                <label for="result-people">Result:</label>
                <textarea id="result-people" placeholder="Describe the result..."></textarea>

                <div class="rating">
                    <label>Rating: </label>
                    <select id="people-rating" class="rating-dropdown">
                        <option value="2">2 (Strong Evidence)</option>
                        <option value="1">1 (Some Evidence)</option>
                        <option value="0">0 (No Evidence)</option>
                        <option value="-1">-1 (Evidence of No Success)</option>
                    </select>
                </div>
            </div>

            <div class="form-section">
                <h2>Writing and Reporting</h2>
                <p><strong>Guide:</strong> What type of written work do you produce in your current (most recent) role? Which of these do you find most difficult or challenging to produce? What do you enjoy/not enjoy about this aspect of your work? What feedback have you received about your written communication at work?</p>

                <label for="situation-writing">Situation:</label>
                <textarea id="situation-writing" placeholder="Describe the situation..."></textarea>

                <label for="action-writing">Action:</label>
                <textarea id="action-writing" placeholder="Describe the action taken..."></textarea>

                <label for="result-writing">Result:</label>
                <textarea id="result-writing" placeholder="Describe the result..."></textarea>

                <div class="rating">
                    <label>Rating: </label>
                    <select id="writing-rating" class="rating-dropdown">
                        <option value="2">2 (Strong Evidence)</option>
        <option value="1">1 (Some Evidence)</option>
        <option value="0">0 (No Evidence)</option>
        <option value="-1">-1 (Evidence of No Success)</option>
                    </select>
                </div>
            </div>

            <div class="form-section">
                <div class="calculated-total">
                    CALCULATED TOTAL ASSESSMENT RATING: <span id="total-rating">0</span>
                </div>

                <label for="equipment-tools">Equipments / Tools / Software utilized:</label>
                <textarea id="equipment-tools" placeholder="List equipments, tools, or software utilized..."></textarea>

                <label for="questions-company">Do you have any questions about the company or the position?</label>
                <textarea id="questions-company" placeholder="Write your questions here..."></textarea>
            </div>

            <button type="button" id="back-button">Back</button>
            <button type="submit" id="submit-button">Submit</button>
        </form>
    </div>

    <script>
        // Update total dynamically on dropdown selection change
        const ratingDropdowns = document.querySelectorAll('.rating-dropdown');
        const totalRatingDisplay = document.getElementById('total-rating');
    
        function updateTotalRating() {
            let totalRating = 0;
    
            ratingDropdowns.forEach((dropdown) => {
                const value = parseInt(dropdown.value, 10);
                if (!isNaN(value)) {
                    totalRating += value;
                }
            });
    
            totalRatingDisplay.textContent = totalRating;
        }
    
        ratingDropdowns.forEach((dropdown) => {
            dropdown.addEventListener('change', updateTotalRating);
        });
    
        // Ensure all sections are rated before submission
        document.getElementById('submit-button').addEventListener('click', function (event) {
            let allRated = true;
    
            ratingDropdowns.forEach((dropdown) => {
                if (dropdown.value === "") {
                    allRated = false;
                }
            });
    
            if (!allRated) {
                alert('Please rate all sections before submitting.');
                event.preventDefault();
            }
        });
    </script>
</body>
</html>
